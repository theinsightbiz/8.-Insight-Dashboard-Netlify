:root{
  /* === Firm palette (strict) === */
  --brand:#78b0e4;   /* primary */
  --bg:#272f35;      /* page background */
  --text:#f4f5f6;    /* primary text */
  --muted:#c9d0d5;   /* subdued text */

  /* neutrals derived from palette (no new hues) */
  --panel:#2b343a;   /* surfaces/cards */
  --chip:#303a41;    /* chips */
  --chip-br:#3a4349; /* chip borders */
  --line:#3a4349;    /* borders */
  --field:#313b42;   /* inputs */

  --shadow: 0 10px 30px rgba(0,0,0,.45), 0 6px 16px rgba(20,40,100,.2);
  --radius:16px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(180deg,var(--bg), #20262b 30%, #1b2126 100%);color:var(--text)}
.container{max-width:1600px;margin:0 auto;padding:16px}
header{display:flex;gap:18px;align-items:center;justify-content:space-between;margin-bottom:12px}
.title{font-size:0;display:flex;gap:12px;align-items:center}
.title .logo{height:40px;width:auto;display:block}
.title .pill{font-size:12px;padding:6px 10px;border:1px solid var(--chip-br);background:var(--chip);border-radius:999px;color:var(--muted)}
.actions{display:flex;gap:10px;flex-wrap:wrap}

button,select,input{font:inherit}
.btn{border:1px solid var(--line);background:#2a333a;color:var(--text);padding:8px 12px;border-radius:10px;cursor:pointer;box-shadow:var(--shadow);transition:transform .06s, background .18s, color .18s, border-color .18s}
.btn:hover,.btn:focus-visible{transform:translateY(-1px);background:var(--brand)!important;color:#fff!important;border-color:var(--brand)!important}
.btn.primary{background:#33404a}
.btn.ghost{background:transparent}
.btn.icon{display:flex;gap:8px;align-items:center}

/* Tabs */
.tabs{display:flex;gap:8px;align-items:center;margin:8px 0 12px}
.tab{border:1px solid var(--line);background:transparent;color:var(--text);padding:8px 14px;border-radius:999px;cursor:pointer;transition:background .18s,color .18s,border-color .18s,transform .06s}
.tab:hover,.tab:focus-visible{background:var(--brand);color:#fff;border-color:var(--brand);transform:translateY(-1px)}
.tab.active{background:var(--brand);color:#272f35;border-color:var(--brand)}

/* === Multi-select dropdown (Status) === */
.multi { position: relative; display: inline-block; }
.multi .menu{
  position: absolute; top: 110%; left: 0; z-index: 50;
  min-width: 220px; padding: 10px; border:1px solid var(--line);
  border-radius: 12px; background: var(--panel); box-shadow: var(--shadow);
}
.multi .menu label{
  display: flex; align-items: center; gap: 8px;
  padding: 6px 4px; cursor: pointer; user-select: none; color: var(--text);
}
.multi .menu label:hover{ background: rgba(120,176,228,.08); border-radius: 8px; }
.multi .menu input[type="checkbox"]{ accent-color: var(--brand); }
.multi .menu .menu-actions{
  display: flex; justify-content: flex-end; gap: 8px; margin-top: 8px;
}

/* Controls */
.controls{display:grid;grid-template-columns:1.1fr .8fr .8fr .8fr .8fr .7fr auto;gap:10px;margin:12px 0}
.input, .select{width:100%;border-radius:10px;border:1px solid var(--line);background:var(--field);color:var(--text);padding:8px 10px;outline:none}
.input:focus, .select:focus{box-shadow:0 0 0 3px rgba(120,176,228,.3)}

/* KPI cards (Summary) — default panel; hover = brand + white text */
.grid{display:grid;grid-template-columns:repeat(6,1fr);gap:10px;margin:12px 0}
.card{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);padding:12px;box-shadow:var(--shadow);color:var(--text);transition:background .18s ease, color .18s ease, transform .06s ease}
.card h3{margin:0 0 6px 0;font-weight:600;font-size:12px;color:var(--muted)}
.card .val{font-size:20px;font-weight:800;color:var(--text)}
.card:hover,.card:focus-visible{background:var(--brand)!important;color:#fff!important;transform:translateY(-1px)}
.card:hover h3,.card:focus-visible h3{color:#fff!important}
.card:hover .val,.card:focus-visible .val{color:#fff!important}

/* Table */
.table{width:100%;border-collapse:separate;border-spacing:0 8px;table-layout:fixed}
.thead th{font-size:12px;color:var(--muted);font-weight:600;text-align:center;padding:0 8px;white-space:nowrap}
.col-check{width:34px}
.col-task{width:16%}
.col-money{width:110px}
/* Client (2nd column) — make wider */
.table .thead th:nth-child(2),
.table .row  td:nth-child(2){
  width:180px;   /* adjust to taste (e.g., 260px) */
}
/* Task (3rd column) — keep consistent with .col-task */
.table .thead th:nth-child(3),
.table .row  td:nth-child(3){
  width:18%;
}
/* Invoice Status (4th column) — make wider */
.table .thead th:nth-child(4),
.table .row  td:nth-child(4){
  width:80px;   /* adjust to taste */
}
/* Status (6th column) — make wider */
.table .thead th:nth-child(6),
.table .row  td:nth-child(6){
  width:160px;   /* adjust to taste */
}
/* Status (7th column) — make wider */
.table .thead th:nth-child(7),
.table .row  td:nth-child(7){
  width:105px;   /* adjust to taste */
}
/* Invoice Status (11th column) — make wider */
.table .thead th:nth-child(11),
.table .row  td:nth-child(11){
  width:150px;   /* adjust to taste */
}
/* Actions (12th column) — make wider */
.table .thead th:nth-child(12),
.table .row  td:nth-child(12){
  width:70px;   /* adjust to taste */
}
.row{background:#2d3640;border:1px solid var(--line);border-radius:12px;box-shadow:var(--shadow)}
.row td{padding:10px 8px;border-left:1px solid var(--line);white-space:normal;overflow:visible;text-overflow:clip;text-align:center;vertical-align:middle;color:var(--text)}
.row td:first-child{border-left:none;border-radius:12px 0 0 12px}
.row td:last-child{border-radius:0 12px 12px 0}

/* alignment rules */
.money{font-variant-numeric:tabular-nums;text-align:right}
.overdue{color:#ffb4b4}

/* badges & selects */
.badge{padding:6px 10px;border-radius:999px;font-size:12px;border:1px solid var(--line);background:var(--chip);color:var(--text)}
.badge.recurring{border-style:dashed;opacity:.9}
.priority.high{color:#ffd1d1;background:rgba(239,68,68,.12);border-color:#5b1f24}
.priority.medium{color:#ffe9c7;background:rgba(245,158,11,.12);border-color:#5b3f1f}
.priority.low{color:#c7ffdb;background:rgba(16,185,129,.12);border-color:#1f5b45}
.status{padding:6px 10px;border-radius:10px;border:1px solid var(--line);background:var(--field);color:var(--text)}

/* Status width full */
#statusMulti, #statusMultiBtn{
  width:100%;
  }

/* Row hover: brand bg + white text */
.table .row:hover{background:var(--brand)!important}
.table .row:hover td{color:#fff!important}
.table .row:hover .badge{background:transparent!important;border-color:#fff!important;color:#fff!important}
.table .row:hover .status{background:transparent!important;border-color:#fff!important;color:#fff!important}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(3,6,20,.6);display:none;align-items:center;justify-content:center;padding:20px}
.modal.active{display:flex}
.dialog{width:min(900px,98vw);background:var(--panel);border:1px solid var(--line);border-radius:18px;box-shadow:var(--shadow)}
.dialog header{padding:12px 16px;border-bottom:1px solid var(--line)}
.dialog h2{margin:0;font-size:18px}
.dialog .body{padding:12px}
.dialog .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.dialog label{font-size:12px;color:var(--muted);display:block;margin:6px 2px}
.dialog input, .dialog select, .dialog textarea{width:100%;border-radius:10px;border:1px solid var(--line);background:var(--field);color:var(--text);padding:8px 10px;outline:none}
.dialog textarea{min-height:80px;resize:vertical}
.dialog footer{display:flex;justify-content:flex-end;gap:8px;padding:10px 12px;border-top:1px solid var(--line)}
.hint{display:block;color:var(--muted);font-size:11px;margin-top:4px}

footer.note{margin:16px 0;color:var(--muted);font-size:16px}

@media (max-width: 1200px){ .controls{grid-template-columns:1fr 1fr 1fr 1fr 1fr auto} }
@media (max-width: 980px){ .grid{grid-template-columns:repeat(3,1fr)} .controls{grid-template-columns:1fr 1fr 1fr} .dialog .grid2{grid-template-columns:1fr} }
@media (max-width: 640px){ .grid{grid-template-columns:repeat(2,1fr)} .controls{grid-template-columns:1fr 1fr} }

/* ===== FIX: ensure dropdown popup uses dark background ===== */
:root { color-scheme: dark; }              /* hint browsers to use dark UI controls */
select option,
select optgroup,
.status option {
  background: var(--field);
  color: var(--text);
}